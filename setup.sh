#!/bin/bash

# hoge-api セットアップスクリプト

echo "hoge-api セットアップを開始します..."

# 依存関係のインストール
echo "依存関係をインストールしています..."
npm install

# 環境変数の確認
echo "環境変数 DATABASE_URL が設定されていることを確認してください"
echo "データベースが起動済みであり、接続可能な状態であることを確認してください"

# マイグレーションのリセットと実行
echo "データベースマイグレーションをリセットして実行します..."
echo "注意: データベースは既に起動済みであり、接続可能な状態であることを前提としています"
npx prisma migrate reset --force

echo "セットアップが完了しました！"
echo "アプリケーションを起動するには以下のコマンドを実行してください："
echo "npm run start:dev"