---
name: repo
type: repo
agent: CodeActAgent
---

リポジトリ: hoge-api
説明: NestJSを使用したWebAPIアプリケーション

## リポジトリ概要

hoge-apiは、NestJSフレームワークを使用して構築されたWebAPIアプリケーションです。現在はヘルスチェックエンドポイントが実装されており、将来的に機能を拡張していく予定です。

## ディレクトリ構造

- `src/`: メインアプリケーションコード
  - `app.controller.ts`: メインアプリケーションコントローラ
  - `app.module.ts`: メインアプリケーションモジュール
  - `app.service.ts`: メインアプリケーションサービス
  - `health/`: ヘルスチェックモジュール
    - `health.controller.ts`: ヘルスチェックコントローラ
    - `health.module.ts`: ヘルスチェックモジュール定義
    - `health.service.ts`: ヘルスチェックサービス
  - `main.ts`: アプリケーションエントリーポイント
- `test/`: エンドツーエンドテスト
- `dist/`: コンパイル出力（gitで追跡されない）
- `node_modules/`: Node.js依存関係（gitで追跡されない）

## セットアップ

- `npm install` で依存関係をインストール
- `npm run start:dev` で開発サーバーを起動
- `npm test` でユニットテストを実行
- `npm run test:e2e` でE2Eテストを実行
- `npm run build` でアプリケーションをビルド
- `npm run start:prod` で本番サーバーを起動

## 開発ガイドライン

### コーディング規約

- TypeScriptとNestJSのベストプラクティスに従う
- 意味のある変数名と関数名を使用する
- すべての新機能に対してユニットテストを作成する
- 公開APIをJSDocコメントでドキュメント化する
- 関数は小さく、単一の責任に焦点を当てる

### ブランチ戦略

- `main`: 本番環境対応のコードを含むメインブランチ
- 機能ブランチ: 新機能やバグ修正のために`main`から作成
- ブランチ命名規則: `feature/機能名` または `fix/バグ名`

### プルリクエストプロセス

1. `main`から機能ブランチを作成
2. 変更を実装してテストを作成
3. `main`へのPRを提出
4. すべてのテストが通過することを確認
5. コードレビューと承認を得る
6. `main`にマージ

## テスト要件

- すべての新機能にはユニットテストを追加する
- コントローラーとサービスの両方をテストする
- E2Eテストでエンドポイントの動作を確認する
- テストカバレッジは80%以上を維持する

## 技術スタック

- **フレームワーク**: NestJS - 効率的でスケーラブルなサーバーサイドアプリケーション構築フレームワーク
- **言語**: TypeScript - 型付きJavaScript
- **テスト**: Jest - JavaScriptテストフレームワーク
- **ヘルスチェック**: @nestjs/terminus - ヘルスチェックモジュール
- **HTTPクライアント**: @nestjs/axios - HTTPクライアントモジュール

## 将来の拡張

- データベース統合の追加
- 認証と認可の実装
- より包括的なヘルスチェックの追加
- CI/CDパイプラインのセットアップ
- SwaggerによるAPIドキュメントの追加

新しいモジュールを追加する場合は、`src/`ディレクトリに専用のフォルダを作成し、controller、service、moduleファイルを含めてください。また、対応するテストファイルも必ず追加してください。